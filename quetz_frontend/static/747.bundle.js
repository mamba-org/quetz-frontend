(self.webpackChunk_QUETZ_CORE_OUTPUT=self.webpackChunk_QUETZ_CORE_OUTPUT||[]).push([[747],{9060:(t,n,e)=>{"use strict";var r;function i(t){return"function"==typeof t.iter?t.iter():new l(t)}function o(t){return new p(t)}function u(t){return new _(t)}function a(t){return new x(t)}function c(t){return new y(t)}function s(t,n){for(var e,r=0,o=i(t);void 0!==(e=o.next());)if(!1===n(e,r++))return}function f(t,n){for(var e,r=0,o=i(t);void 0!==(e=o.next());)if(!n(e,r++))return!1;return!0}function h(t,n){for(var e,r=0,o=i(t);void 0!==(e=o.next());)if(n(e,r++))return!0;return!1}function v(t){for(var n,e=0,r=[],o=i(t);void 0!==(n=o.next());)r[e++]=n;return r}function d(t){for(var n,e=i(t),r={};void 0!==(n=e.next());)r[n[0]]=n[1];return r}e.r(n),e.d(n,{ArrayExt:()=>r,ArrayIterator:()=>l,ChainIterator:()=>g,EmptyIterator:()=>M,EnumerateIterator:()=>I,FilterIterator:()=>O,FnIterator:()=>y,ItemIterator:()=>x,KeyIterator:()=>p,MapIterator:()=>D,RangeIterator:()=>V,RepeatIterator:()=>L,RetroArrayIterator:()=>W,StrideIterator:()=>K,StringExt:()=>Z,TakeIterator:()=>J,ValueIterator:()=>_,ZipIterator:()=>G,chain:()=>m,each:()=>s,empty:()=>w,enumerate:()=>A,every:()=>f,filter:()=>k,find:()=>E,findIndex:()=>S,iter:()=>i,iterFn:()=>c,iterItems:()=>a,iterKeys:()=>o,iterValues:()=>u,map:()=>j,max:()=>R,min:()=>b,minmax:()=>F,once:()=>H,range:()=>T,reduce:()=>B,repeat:()=>C,retro:()=>P,some:()=>h,stride:()=>z,take:()=>Q,toArray:()=>v,toObject:()=>d,topologicSort:()=>q,zip:()=>N}),function(t){function n(t,n,e,r){void 0===e&&(e=0),void 0===r&&(r=-1);var i,o=t.length;if(0===o)return-1;e=e<0?Math.max(0,e+o):Math.min(e,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<e?r+1+(o-e):r-e+1;for(var u=0;u<i;++u){var a=(e+u)%o;if(t[a]===n)return a}return-1}function e(t,n,e,r){void 0===e&&(e=-1),void 0===r&&(r=0);var i,o=t.length;if(0===o)return-1;i=(e=e<0?Math.max(0,e+o):Math.min(e,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?e+1+(o-r):e-r+1;for(var u=0;u<i;++u){var a=(e-u+o)%o;if(t[a]===n)return a}return-1}function r(t,n,e,r){void 0===e&&(e=0),void 0===r&&(r=-1);var i,o=t.length;if(0===o)return-1;e=e<0?Math.max(0,e+o):Math.min(e,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<e?r+1+(o-e):r-e+1;for(var u=0;u<i;++u){var a=(e+u)%o;if(n(t[a],a))return a}return-1}function i(t,n,e,r){void 0===e&&(e=-1),void 0===r&&(r=0);var i,o=t.length;if(0===o)return-1;i=(e=e<0?Math.max(0,e+o):Math.min(e,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?e+1+(o-r):e-r+1;for(var u=0;u<i;++u){var a=(e-u+o)%o;if(n(t[a],a))return a}return-1}function o(t,n,e){void 0===n&&(n=0),void 0===e&&(e=-1);var r=t.length;if(!(r<=1))for(n=n<0?Math.max(0,n+r):Math.min(n,r-1),e=e<0?Math.max(0,e+r):Math.min(e,r-1);n<e;){var i=t[n],o=t[e];t[n++]=o,t[e--]=i}}function u(t,n){var e=t.length;if(n<0&&(n+=e),!(n<0||n>=e)){for(var r=t[n],i=n+1;i<e;++i)t[i-1]=t[i];return t.length=e-1,r}}t.firstIndexOf=n,t.lastIndexOf=e,t.findFirstIndex=r,t.findLastIndex=i,t.findFirstValue=function(t,n,e,i){void 0===e&&(e=0),void 0===i&&(i=-1);var o=r(t,n,e,i);return-1!==o?t[o]:void 0},t.findLastValue=function(t,n,e,r){void 0===e&&(e=-1),void 0===r&&(r=0);var o=i(t,n,e,r);return-1!==o?t[o]:void 0},t.lowerBound=function(t,n,e,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;for(var u=r=r<0?Math.max(0,r+o):Math.min(r,o-1),a=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;a>0;){var c=a>>1,s=u+c;e(t[s],n)<0?(u=s+1,a-=c+1):a=c}return u},t.upperBound=function(t,n,e,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;for(var u=r=r<0?Math.max(0,r+o):Math.min(r,o-1),a=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;a>0;){var c=a>>1,s=u+c;e(t[s],n)>0?a=c:(u=s+1,a-=c+1)}return u},t.shallowEqual=function(t,n,e){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;++r)if(e?!e(t[r],n[r]):t[r]!==n[r])return!1;return!0},t.slice=function(t,n){void 0===n&&(n={});var e=n.start,r=n.stop,i=n.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var o,u=t.length;void 0===e?e=i<0?u-1:0:e<0?e=Math.max(e+u,i<0?-1:0):e>=u&&(e=i<0?u-1:u),void 0===r?r=i<0?-1:u:r<0?r=Math.max(r+u,i<0?-1:0):r>=u&&(r=i<0?u-1:u),o=i<0&&r>=e||i>0&&e>=r?0:i<0?Math.floor((r-e+1)/i+1):Math.floor((r-e-1)/i+1);for(var a=[],c=0;c<o;++c)a[c]=t[e+c*i];return a},t.move=function(t,n,e){var r=t.length;if(!(r<=1)&&(n=n<0?Math.max(0,n+r):Math.min(n,r-1))!==(e=e<0?Math.max(0,e+r):Math.min(e,r-1))){for(var i=t[n],o=n<e?1:-1,u=n;u!==e;u+=o)t[u]=t[u+o];t[e]=i}},t.reverse=o,t.rotate=function(t,n,e,r){void 0===e&&(e=0),void 0===r&&(r=-1);var i=t.length;if(!(i<=1||(e=e<0?Math.max(0,e+i):Math.min(e,i-1))>=(r=r<0?Math.max(0,r+i):Math.min(r,i-1)))){var u=r-e+1;if(n>0?n%=u:n<0&&(n=(n%u+u)%u),0!==n){var a=e+n;o(t,e,a-1),o(t,a,r),o(t,e,r)}}},t.fill=function(t,n,e,r){void 0===e&&(e=0),void 0===r&&(r=-1);var i=t.length;if(0!==i){var o;e=e<0?Math.max(0,e+i):Math.min(e,i-1),o=(r=r<0?Math.max(0,r+i):Math.min(r,i-1))<e?r+1+(i-e):r-e+1;for(var u=0;u<o;++u)t[(e+u)%i]=n}},t.insert=function(t,n,e){var r=t.length;n=n<0?Math.max(0,n+r):Math.min(n,r);for(var i=r;i>n;--i)t[i]=t[i-1];t[n]=e},t.removeAt=u,t.removeFirstOf=function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=n(t,e,r,i);return-1!==o&&u(t,o),o},t.removeLastOf=function(t,n,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var o=e(t,n,r,i);return-1!==o&&u(t,o),o},t.removeAllOf=function(t,n,e,r){void 0===e&&(e=0),void 0===r&&(r=-1);var i=t.length;if(0===i)return 0;e=e<0?Math.max(0,e+i):Math.min(e,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,u=0;u<i;++u)e<=r&&u>=e&&u<=r&&t[u]===n||r<e&&(u<=r||u>=e)&&t[u]===n?o++:o>0&&(t[u-o]=t[u]);return o>0&&(t.length=i-o),o},t.removeFirstWhere=function(t,n,e,i){var o;void 0===e&&(e=0),void 0===i&&(i=-1);var a=r(t,n,e,i);return-1!==a&&(o=u(t,a)),{index:a,value:o}},t.removeLastWhere=function(t,n,e,r){var o;void 0===e&&(e=-1),void 0===r&&(r=0);var a=i(t,n,e,r);return-1!==a&&(o=u(t,a)),{index:a,value:o}},t.removeAllWhere=function(t,n,e,r){void 0===e&&(e=0),void 0===r&&(r=-1);var i=t.length;if(0===i)return 0;e=e<0?Math.max(0,e+i):Math.min(e,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,u=0;u<i;++u)e<=r&&u>=e&&u<=r&&n(t[u],u)||r<e&&(u<=r||u>=e)&&n(t[u],u)?o++:o>0&&(t[u-o]=t[u]);return o>0&&(t.length=i-o),o}}(r||(r={}));var l=function(){function t(t){this._index=0,this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}(),p=function(){function t(t,n){void 0===n&&(n=Object.keys(t)),this._index=0,this._source=t,this._keys=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source,this._keys);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}},t}(),_=function(){function t(t,n){void 0===n&&(n=Object.keys(t)),this._index=0,this._source=t,this._keys=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source,this._keys);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}},t}(),x=function(){function t(t,n){void 0===n&&(n=Object.keys(t)),this._index=0,this._source=t,this._keys=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source,this._keys);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}},t}(),y=function(){function t(t){this._fn=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)},t}();function m(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new g(i(t.map(i)))}var g=function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source.clone());return n._active=this._active&&this._active.clone(),n._cloned=!0,this._cloned=!0,n},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var n=this._active.next();return void 0!==n?n:(this._active=void 0,this.next())},t}();function w(){return new M}var M=function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t}();function A(t,n){return void 0===n&&(n=0),new I(i(t),n)}var I=function(){function t(t,n){this._source=t,this._index=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]},t}();function k(t,n){return new O(i(t),n)}var O=function(){function t(t,n){this._index=0,this._source=t,this._fn=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source.clone(),this._fn);return n._index=this._index,n},t.prototype.next=function(){for(var t,n=this._fn,e=this._source;void 0!==(t=e.next());)if(n(t,this._index++))return t},t}();function E(t,n){for(var e,r=0,o=i(t);void 0!==(e=o.next());)if(n(e,r++))return e}function S(t,n){for(var e,r=0,o=i(t);void 0!==(e=o.next());)if(n(e,r++))return r-1;return-1}function b(t,n){var e=i(t),r=e.next();if(void 0!==r){for(var o=r;void 0!==(r=e.next());)n(r,o)<0&&(o=r);return o}}function R(t,n){var e=i(t),r=e.next();if(void 0!==r){for(var o=r;void 0!==(r=e.next());)n(r,o)>0&&(o=r);return o}}function F(t,n){var e=i(t),r=e.next();if(void 0!==r){for(var o=r,u=r;void 0!==(r=e.next());)n(r,o)<0?o=r:n(r,u)>0&&(u=r);return[o,u]}}function j(t,n){return new D(i(t),n)}var D=function(){function t(t,n){this._index=0,this._source=t,this._fn=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source.clone(),this._fn);return n._index=this._index,n},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)},t}();function T(t,n,e){return void 0===n?new V(0,t,1):new V(t,n,void 0===e?1:e)}var U,V=function(){function t(t,n,e){this._index=0,this._start=t,this._stop=n,this._step=e,this._length=U.rangeLength(t,n,e)}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._start,this._stop,this._step);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},t}();function B(t,n,e){var r=0,o=i(t),u=o.next();if(void 0===u&&void 0===e)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===u)return e;var a,c,s=o.next();if(void 0===s&&void 0===e)return u;if(void 0===s)return n(e,u,r++);for(a=n(void 0===e?u:n(e,u,r++),s,r++);void 0!==(c=o.next());)a=n(a,c,r++);return a}function C(t,n){return new L(t,n)}function H(t){return new L(t,1)}!function(t){t.rangeLength=function(t,n,e){return 0===e?1/0:t>n&&e>0||t<n&&e<0?0:Math.ceil((n-t)/e)}}(U||(U={}));var L=function(){function t(t,n){this._value=t,this._count=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},t}();function P(t){return"function"==typeof t.retro?t.retro():new W(t)}var W=function(){function t(t){this._source=t,this._index=t.length-1}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var n=new t(this._source);return n._index=this._index,n},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},t}();function q(t){var n=[],e=new Set,r=new Map;return s(t,(function(t){var n=t[0],e=t[1],i=r.get(e);i?i.push(n):r.set(e,[n])})),r.forEach((function(t,n){i(n)})),n;function i(t){if(!e.has(t)){e.add(t);var o=r.get(t);o&&o.forEach(i),n.push(t)}}}function z(t,n){return new K(i(t),n)}var Z,K=function(){function t(t,n){this._source=t,this._step=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),n=this._step-1;n>0;--n)this._source.next();return t},t}();function Q(t,n){return new J(i(t),n)}!function(t){function n(t,n,e){void 0===e&&(e=0);for(var r=new Array(n.length),i=0,o=e,u=n.length;i<u;++i,++o){if(-1===(o=t.indexOf(n[i],o)))return null;r[i]=o}return r}t.findIndices=n,t.matchSumOfSquares=function(t,e,r){void 0===r&&(r=0);var i=n(t,e,r);if(!i)return null;for(var o=0,u=0,a=i.length;u<a;++u){var c=i[u]-r;o+=c*c}return{score:o,indices:i}},t.matchSumOfDeltas=function(t,e,r){void 0===r&&(r=0);var i=n(t,e,r);if(!i)return null;for(var o=0,u=r-1,a=0,c=i.length;a<c;++a){var s=i[a];o+=s-u-1,u=s}return{score:o,indices:i}},t.highlight=function(t,n,e){for(var r=[],i=0,o=0,u=n.length;i<u;){for(var a=n[i],c=n[i];++i<u&&n[i]===c+1;)c++;o<a&&r.push(t.slice(o,a)),a<c+1&&r.push(e(t.slice(a,c+1))),o=c+1}return o<t.length&&r.push(t.slice(o)),r},t.cmp=function(t,n){return t<n?-1:t>n?1:0}}(Z||(Z={}));var J=function(){function t(t,n){this._source=t,this._count=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}},t}();function N(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new G(t.map(i))}var G=function(){function t(t){this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),n=0,e=this._source.length;n<e;++n){var r=this._source[n].next();if(void 0===r)return;t[n]=r}return t},t}()},4745:(t,n,e)=>{"use strict";var r;e.r(n),e.d(n,{JSONExt:()=>r,MimeData:()=>o,PromiseDelegate:()=>u,Random:()=>i,Token:()=>c,UUID:()=>a}),function(t){function n(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t}function e(t){return Array.isArray(t)}t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]),t.isPrimitive=n,t.isArray=e,t.isObject=function(t){return!n(t)&&!e(t)},t.deepEqual=function t(r,i){if(r===i)return!0;if(n(r)||n(i))return!1;var o=e(r),u=e(i);return o===u&&(o&&u?function(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(var r=0,i=n.length;r<i;++r)if(!t(n[r],e[r]))return!1;return!0}(r,i):function(n,e){if(n===e)return!0;for(var r in n)if(void 0!==n[r]&&!(r in e))return!1;for(var r in e)if(void 0!==e[r]&&!(r in n))return!1;for(var r in n){var i=n[r],o=e[r];if(void 0!==i||void 0!==o){if(void 0===i||void 0===o)return!1;if(!t(i,o))return!1}}return!0}(r,i))},t.deepCopy=function t(r){return n(r)?r:e(r)?function(n){for(var e=new Array(n.length),r=0,i=n.length;r<i;++r)e[r]=t(n[r]);return e}(r):function(n){var e={};for(var r in n){var i=n[r];void 0!==i&&(e[r]=t(i))}return e}(r)}}(r||(r={}));var i,o=function(){function t(){this._types=[],this._values=[]}return t.prototype.types=function(){return this._types.slice()},t.prototype.hasData=function(t){return-1!==this._types.indexOf(t)},t.prototype.getData=function(t){var n=this._types.indexOf(t);return-1!==n?this._values[n]:void 0},t.prototype.setData=function(t,n){this.clearData(t),this._types.push(t),this._values.push(n)},t.prototype.clearData=function(t){var n=this._types.indexOf(t);-1!==n&&(this._types.splice(n,1),this._values.splice(n,1))},t.prototype.clear=function(){this._types.length=0,this._values.length=0},t}(),u=function(){function t(){var t=this;this.promise=new Promise((function(n,e){t._resolve=n,t._reject=e}))}return t.prototype.resolve=function(t){(0,this._resolve)(t)},t.prototype.reject=function(t){(0,this._reject)(t)},t}();!function(t){var n;t.getRandomValues=(n="undefined"!=typeof window&&(window.crypto||window.msCrypto)||e(3906)||null)&&"function"==typeof n.getRandomValues?function(t){return n.getRandomValues(t)}:n&&"function"==typeof n.randomFillSync?function(t){return n.randomFillSync(t)}:n&&"function"==typeof n.randomBytes?function(t){for(var e=n.randomBytes(t.length),r=0,i=e.length;r<i;++r)t[r]=e[r]}:function(t){for(var n=0,e=0,r=t.length;e<r;++e)e%4==0&&(n=4294967295*Math.random()>>>0),t[e]=255&n,n>>>=8}}(i||(i={}));var a,c=function(t){this.name=t,this._tokenStructuralPropertyT=null};!function(t){t.uuid4=function(){for(var t=new Uint8Array(16),n=new Array(256),e=0;e<16;++e)n[e]="0"+e.toString(16);for(e=16;e<256;++e)n[e]=e.toString(16);return function(){return i.getRandomValues(t),t[6]=64|15&t[6],t[8]=128|63&t[8],n[t[0]]+n[t[1]]+n[t[2]]+n[t[3]]+"-"+n[t[4]]+n[t[5]]+"-"+n[t[6]]+n[t[7]]+"-"+n[t[8]]+n[t[9]]+"-"+n[t[10]]+n[t[11]]+n[t[12]]+n[t[13]]+n[t[14]]+n[t[15]]}}()}(a||(a={}))},5445:(t,n,e)=>{"use strict";e.r(n),e.d(n,{Signal:()=>o});var r,i=e(9060),o=function(){function t(t){this.sender=t}return t.prototype.connect=function(t,n){return r.connect(this,t,n)},t.prototype.disconnect=function(t,n){return r.disconnect(this,t,n)},t.prototype.emit=function(t){r.emit(this,t)},t}();!function(t){t.disconnectBetween=function(t,n){r.disconnectBetween(t,n)},t.disconnectSender=function(t){r.disconnectSender(t)},t.disconnectReceiver=function(t){r.disconnectReceiver(t)},t.disconnectAll=function(t){r.disconnectAll(t)},t.clearData=function(t){r.disconnectAll(t)},t.getExceptionHandler=function(){return r.exceptionHandler},t.setExceptionHandler=function(t){var n=r.exceptionHandler;return r.exceptionHandler=t,n}}(o||(o={})),function(t){function n(t){var n=r.get(t);n&&0!==n.length&&((0,i.each)(n,(function(t){if(t.signal){var n=t.thisArg||t.slot;t.signal=null,f(o.get(n))}})),f(n))}function e(t){var n=o.get(t);n&&0!==n.length&&((0,i.each)(n,(function(t){if(t.signal){var n=t.signal.sender;t.signal=null,f(r.get(n))}})),f(n))}t.exceptionHandler=function(t){console.error(t)},t.connect=function(t,n,e){e=e||void 0;var i=r.get(t.sender);if(i||(i=[],r.set(t.sender,i)),c(i,t,n,e))return!1;var u=e||n,a=o.get(u);a||(a=[],o.set(u,a));var s={signal:t,slot:n,thisArg:e};return i.push(s),a.push(s),!0},t.disconnect=function(t,n,e){e=e||void 0;var i=r.get(t.sender);if(!i||0===i.length)return!1;var u=c(i,t,n,e);if(!u)return!1;var a=e||n,s=o.get(a);return u.signal=null,f(i),f(s),!0},t.disconnectBetween=function(t,n){var e=r.get(t);if(e&&0!==e.length){var u=o.get(n);u&&0!==u.length&&((0,i.each)(u,(function(n){n.signal&&n.signal.sender===t&&(n.signal=null)})),f(e),f(u))}},t.disconnectSender=n,t.disconnectReceiver=e,t.disconnectAll=function(t){n(t),e(t)},t.emit=function(t,n){var e=r.get(t.sender);if(e&&0!==e.length)for(var i=0,o=e.length;i<o;++i){var u=e[i];u.signal===t&&s(u,n)}};var r=new WeakMap,o=new WeakMap,u=new Set,a="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function c(t,n,e,r){return(0,i.find)(t,(function(t){return t.signal===n&&t.slot===e&&t.thisArg===r}))}function s(n,e){var r=n.signal,i=n.slot,o=n.thisArg;try{i.call(o,r.sender,e)}catch(n){t.exceptionHandler(n)}}function f(t){0===u.size&&a(h),u.add(t)}function h(){u.forEach(v),u.clear()}function v(t){i.ArrayExt.removeAllWhere(t,d)}function d(t){return null===t.signal}}(r||(r={}))}}]);